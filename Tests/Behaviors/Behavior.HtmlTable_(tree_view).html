<!DOCTYPE html>
<html>
	<head>
		<title>Behavior.HtmlTable (treeview)</title>
		<script src="/depender/build?require=More-Behaviors/Behavior.HtmlTable"></script>
		<script src="/asset/more-behaviors/less-1.0.41.js"></script>
		<link rel="stylesheet/less" type="text/css" href="/asset/more-behaviors/Styles/Interface/Behavior.HtmlTable.less"/>
		<script>less = {env:"development"};</script>
		<script src="/asset/more-behaviors/less-1.0.41.min.js"></script>
	</head>
	<body>

		<p>The table below will appear to be a tree view table immediately, even before scripts are loaded. It will become interactive once the scripts have loaded. You should be able to click a section's expand arrow to expand it. Keys should work - up and down to navigate, shift + up and down to multiselect, left and right to collapse and expand sections.</p>
		<table id="tree2" data-filters="HtmlTable" class="selectable treeView multiselect">
			<thead>
				<th>Name</th>
				<th>Date Modified</th>
				<th>Size</th>
			</thead>
				<tbody>
					<tr class="table-folder table-depth-0" id="docs2">
						<td>
							<a class="expand"></a>
							Documents
						</td>
						<td>Jul 10, 2010 1:39pm</td>
						<td>--</td>
					</tr>
						<tr class="hidden table-depth-1">
							<td>Resume.pdf</td>
							<td>Jul 10, 2010 1:39pm</td>
							<td>--</td>
						</tr>
						<tr class="hidden table-depth-1">
							<td>notes.txt</td>
							<td>Jul 10, 2010 1:39pm</td>
							<td>--</td>
						</tr>
						<tr class="hidden table-folder table-depth-1">
							<td>
								<a class="expand"></a>
								Receipts
							</td>
							<td>Jul 10, 2010 1:39pm</td>
							<td>--</td>
						</tr>
								<tr class="hidden table-depth-2">
									<td>starbucks.txt</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="hidden table-depth-2">
									<td>safeway.txt</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="hidden table-depth-2">
									<td>movies.txt</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="hidden table-folder table-depth-2">
									<td>
										<a class="expand"></a>
										Taxes
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="hidden table-depth-3">
									<td>
										2008 Taxes.pdf
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="hidden table-depth-3">
									<td>
										2009 Taxes.pdf
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="hidden table-depth-3">
									<td>
										2010 Taxes.pdf
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="hidden table-folder table-depth-2">
									<td>
										<a class="expand"></a>
										Pictures</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="hidden table-depth-3">
									<td>
										Baby.jpg
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="hidden table-depth-2">
									<td>
										Bar.txt
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
						<tr class="table-depth-0">
							<td>
								Foo.txt
							</td>
							<td>Jul 10, 2010 1:39pm</td>
							<td>--</td>
						</tr>
					</tbody>
		</table>

		<p>The table below will turn into a treeview on startup. It will appear to be a normal table until then. The add row link above the table will add a new item inside the Documents folder.</p>
		<a id="addRow">Add Row to Documents</a>
		<table id="tree" data-filters="HtmlTable" class="selectable treeView buildTree">
			<thead>
				<th>Name</th>
				<th>Date Modified</th>
				<th>Size</th>
			</thead>
				<tbody>
					<tr class="table-depth-0" id="docs">
						<td>
							Documents
						</td>
						<td>Jul 10, 2010 1:39pm</td>
						<td>--</td>
					</tr>
						<tr class="table-depth-1">
							<td>Resume.pdf</td>
							<td>Jul 10, 2010 1:39pm</td>
							<td>--</td>
						</tr>
						<tr class="table-depth-1">
							<td>notes.txt</td>
							<td>Jul 10, 2010 1:39pm</td>
							<td>--</td>
						</tr>
						<tr class="table-depth-1">
							<td>
								Receipts
							</td>
							<td>Jul 10, 2010 1:39pm</td>
							<td>--</td>
						</tr>
								<tr class="table-depth-2">
									<td>starbucks.txt</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="table-depth-2">
									<td>safeway.txt</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="table-depth-2">
									<td>movies.txt</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="table-depth-2">
									<td>
										Taxes
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="table-depth-3">
									<td>
										2008 Taxes.pdf
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="table-depth-3">
									<td>
										2009 Taxes.pdf
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="table-depth-3">
									<td>
										2010 Taxes.pdf
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="table-depth-2">
									<td>Pictures</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="table-depth-3">
									<td>
										Baby.jpg
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
								<tr class="table-depth-2">
									<td>
										Bar.txt
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
							<tr class="table-depth-1">
								<td>
									Candy
								</td>
								<td>Jul 10, 2010 1:39pm</td>
								<td>--</td>
							</tr>
								<tr class="table-depth-2">
									<td>
										Snickers.txt
									</td>
									<td>Jul 10, 2010 1:39pm</td>
									<td>--</td>
								</tr>
						<tr class="table-depth-0">
							<td>
								Foo.txt
							</td>
							<td>Jul 10, 2010 1:39pm</td>
							<td>--</td>
						</tr>
					</tbody>
		</table>

		<script>
		var b = new Behavior().apply(document.body);
		$$('table')[0].retrieve('HtmlTable').keyboard.activate();
		$('addRow').addEvent('click', function(e){
			e.stop();
			var parent = $('docs');
			var table = parent.getParent('table').retrieve('HtmlTable');
			table.injectChild(['A Document.txt', 'Jul 10, 2010 1:39pm', '--'], {}, parent);
		});
		</script>
	</body>
</html>